<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Glowing Sphere - A modular 3D star collector game built with Three.js">
    <meta name="theme-color" content="#1a1a2e">
    <title>Glowing Sphere - Star Collector Game</title>
</head>
<body>
    <!-- Canvas Container -->
    <div id="canvas-container"></div>
    
    <!-- HUD -->
    <div id="hud">
        <h2>â­ Star Collector</h2>
        <div id="score">Score: <span id="score-value">0</span></div>
        <div id="stars-left">Stars: <span id="stars-value">0</span></div>
        <div id="lives">Lives: <span id="lives-value">3</span></div>
        <div id="seed-display" title="Click to copy seed">Seed: <span id="seed-value">Random</span> ğŸ“‹</div>
    </div>
    
    <!-- Level Indicator -->
    <div id="level-indicator">Level: <span id="level-value">1</span></div>
    
    <!-- Currency Display -->
    <div id="currency-display">ğŸ’° <span id="coins-value">0</span></div>
    
    <!-- Power-ups Display -->
    <div id="power-ups-display"></div>
    
    <!-- Shield Indicator -->
    <div id="shield-indicator">ğŸ›¡ï¸ Shield Active: <span id="shield-time">0.0</span>s</div>
    
    <!-- Dash Indicator -->
    <div id="dash-indicator">âš¡ Dash: <span id="dash-status">READY</span> | ğŸ›‘ Break: <span id="break-status">READY</span></div>
    
    <!-- Pause Indicator -->
    <div id="pause-indicator">â¸ï¸ PAUSED</div>
    
    <!-- Instructions -->
    <div id="instructions">
        WASD/Arrows â€¢ Controller (Left Stick/D-pad) â€¢ Touch (Mobile) â€¢ 'B'/Start for Shop
    </div>

    <!-- Touch Controls for Mobile -->
    <div id="touch-controls">
        <div id="virtual-joystick">
            <div id="joystick-handle"></div>
        </div>
    </div>

    <div id="touch-buttons">
        <div id="touch-buttons-row">
            <button class="touch-btn" id="touch-shop-btn" aria-label="Shop">ğŸ›’</button>
        </div>
    </div>

    <!-- Controller Status -->
    <div id="controller-status">ğŸ® Controller Connected</div>

    <!-- Seed Toast -->
    <div id="seed-toast">Seed copied to clipboard!</div>
    
    <!-- Game Over Modal -->
    <div id="game-over">
        <h1>Game Over!</h1>
        <p>Final Score: <span id="final-score">0</span></p>
        <p>Level Reached: <span id="final-level">1</span></p>
        <div id="seed-input-container">
            <input type="text" id="seed-input" class="focusable" placeholder="Enter seed to replay" maxlength="20">
        </div>
        <button id="play-seed-btn" class="focusable">Play Seed</button>
        <button id="restart-stage-btn" class="focusable">Restart Stage</button>
        <button id="restart-btn" class="focusable">New Random</button>
        <div id="game-over-nav-hint" class="nav-hint">ğŸ® D-pad/Stick: Navigate â€¢ A/âœ“: Select</div>
    </div>

    <!-- Level Complete Modal -->
    <div id="level-complete">
        <h1>Level Complete!</h1>
        <p>Score: <span id="level-score">0</span></p>
        <p>Time: <span id="level-time">0</span>s</p>
        <p>Coins Earned: <span id="level-coins">0</span> ğŸ’°</p>
        <button id="next-level-btn" class="focusable">Next Level</button>
        <button id="shop-btn-complete" class="focusable">Open Shop</button>
        <div id="level-complete-nav-hint" class="nav-hint">ğŸ® D-pad/Stick: Navigate â€¢ A/âœ“: Select</div>
    </div>
    
    <!-- Shop Menu -->
    <div id="shop-menu">
        <h1>âš¡ Power-Up Shop âš¡</h1>
        <div id="shop-currency">ğŸ’° <span id="shop-coins-value">0</span> Coins</div>

        <div class="slots-info">
            Active Power-Ups: <span id="active-slots-count">0</span> / <span id="max-slots-count">3</span>
        </div>

        <div id="shop-content">
            <div class="shop-column">
                <h2>ğŸ“¦ Available Power-Ups</h2>
                <div id="available-power-ups"></div>
            </div>

            <div class="shop-column">
                <h2>ğŸ¯ Your Collection</h2>
                <div id="owned-power-ups"></div>
            </div>
        </div>

        <button id="close-shop-btn" class="shop-btn close focusable">Close Shop</button>
        <button id="reset-progress-btn" class="shop-btn reset focusable">Reset All Progress</button>
        <div id="shop-nav-hint" class="nav-hint">ğŸ® D-pad/Stick: Navigate â€¢ A: Select â€¢ B/Start: Close</div>
    </div>
    
    <!-- Main Application Script -->
    <script type="module" src="/src/main.js"></script>
